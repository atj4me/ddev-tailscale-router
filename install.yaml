name: tailscale-router

project_files:
  - tailscale-router/config/tailscale-private.json
  - tailscale-router/config/tailscale-public.json
  - config.tailscale-router.yaml
  - commands/host/tailscale
  - web-build/Dockerfile.tailscale-router
  - docker-compose.tailscale-router.yaml

ddev_version_constraint: '>= v1.24.3'

post_install_actions:
  - |
    #ddev-description:Setup instructions for Tailscale router
    echo "ðŸš€ ddev-tailscale-router installed successfully!"
    echo "Next steps:"
    echo "1. Get your Tailscale auth key from https://tailscale.com/kb/1085/auth-keys"
    echo "2. Set it in your environment using: 'echo \"export TS_AUTHKEY=tskey-auth-your-key-here\" >> ~/.bashrc'"
    echo "3. Optional: Set privacy to public with: 'ddev dotenv set .ddev/.env.tailscale-router --ts-privacy=public'"
    echo "4. Run: 'ddev restart'"
    echo "For more info: https://github.com/atj4me/ddev-tailscale-router"
